<nb-card [routerLink]="[audit.id + '/interviews']" data-cy="audit-card">
  <ng-container [ngSwitch]="audit.status">
    <div nbPopoverPlacement="left" nbPopover="Geplant" nbPopoverTrigger="hint" *ngSwitchCase="auditStatus.IsPlanned" class="banner-status banner-status-is-planned" data-cy="audit-status"></div>
    <div nbPopoverPlacement="left" nbPopover="In Bearbeitung" nbPopoverTrigger="hint" *ngSwitchCase="auditStatus.InAction" class="banner-status banner-status-in-action" data-cy="audit-status"></div>
    <div
      nbPopoverPlacement="left"
      nbPopover="Abgeschlossen"
      nbPopoverTrigger="hint"
      *ngSwitchCase="auditStatus.IsFinished"
      class="banner-status banner-status-is-finished"
      data-cy="audit-status"
    ></div>
    <div nbPopoverPlacement="left" nbPopover="Abgebrochen" nbPopoverTrigger="hint" *ngSwitchCase="auditStatus.IsCanceled" class="banner-status banner-status-is-canceled" data-cy="audit-status"></div>
  </ng-container>
  <nb-card-header>
    <div data-cy="audit-short-infos">
      {{ audit.name }}
      <span *ngIf="audit.customerData.name">| {{ audit.customerData.name }} </span>
      <br />
      <span class="label" *ngIf="audit.start">
        &nbsp;{{ audit.start | date: 'dd.MM.yyyy' }} - <span *ngIf="audit.end; else tbd">{{ audit.end | date: 'dd.MM.yyyy' }}</span>
        <ng-template #tbd>TBD</ng-template>
      </span>
    </div>
    <div></div>
    <button (click)="$event.stopPropagation()" nbContextMenuPlacement="left" nbContextMenuTrigger="focus" nbButton [nbContextMenu]="items" [nbContextMenuTag]="nbMenuId" data-cy="audit-options">
      <nb-icon icon="more-vertical-outline"></nb-icon>
    </button>
  </nb-card-header>
</nb-card>
