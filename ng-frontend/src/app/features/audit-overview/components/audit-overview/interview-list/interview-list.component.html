<header>
  <button [disabled]="!(audit$ | async).scope.length" [routerLink]="['new']" nbButton status="primary" hero data-cy="new-interview">
    <div class="min-500">
      <nb-icon icon="plus"></nb-icon>
      Neues Interview
    </div>
    <div class="max-500">
      <nb-icon icon="plus"></nb-icon>
    </div>
  </button>
</header>
<div class="fac-crits" *ngIf="(audit$ | async).scope.length > 0; else noFacrits">
  <div *ngFor="let factor of (audit$ | async).scope | factors">
    <nb-card class="mb-1" *ngFor="let facCrit of (audit$ | async).scope | facCritByFactor: factor.id">
      <nb-card-header class="subtitle-2" data-cy="faccrit-header">{{ facCrit.name }}</nb-card-header>
      <nb-card-body data-cy="faccrit-body">
        <nb-list *ngIf="(audit$ | async).interviews | interviewByFacCrit: facCrit.id as interviews; else noInterviews">
          <nb-list-item *ngFor="let interview of interviews">
            <app-interview-card [interview]="interview" [facCritId]="facCrit.id" data-cy="interview"></app-interview-card>
          </nb-list-item>
        </nb-list>
        <ng-template #noInterviews>
          <div class="hint-no-interviews label">
            Keine Interviews vorhanden
          </div>
        </ng-template>
      </nb-card-body>
    </nb-card>
    <hr />
  </div>
</div>
<ng-template #noFacrits>
  <div class="hint-no-interviews">
    <h6 class="text-hint mb-1">Leerer Scope</h6>
    <p class="label">FÃ¼gen Sie dem Audit ISO/IEC Faktoren & Kriterien hinzu</p>
  </div>
</ng-template>
<nb-layout>
  <router-outlet></router-outlet>
</nb-layout>
