<br />
<nb-card>
  <nb-card-header>
    <div class="wrapper-header">
      Audit Grunddaten
      <button [routerLink]="['edit']" nbContextMenuPlacement="left" nbContextMenuTrigger="focus" ghost nbButton data-cy="audit-options">
        <nb-icon icon="edit-outline"></nb-icon>
      </button>
    </div>
  </nb-card-header>
  <nb-card-body>
    <div class="grid-1-1">
      <div>
        <label class="label">Auditname</label>
        <div class="audit-params" data-cy="audit-name">{{ (audit$ | async).name }}</div>
      </div>
      <div>
        <label class="label">Zeitraum</label>
        <div class="audit-params" data-cy="audit-timeframe">
          {{ (audit$ | async).start | date: 'dd.MM.yyyy' }} - <span *ngIf="(audit$ | async).end; else tbd">{{ (audit$ | async).end | date: 'dd.MM.yyyy' }}</span>
          <ng-template #tbd>TBD</ng-template>
          <span *ngIf="!(audit$ | async).start">-</span>
        </div>
      </div>
    </div>
    <hr />
    <div class="grid-1-1">
      <div>
        <label class="label">Unternehmen</label>
        <div class="audit-params" data-cy="audit-customer-name">
          {{ (audit$ | async).customerData.name }}
          <span class="label" *ngIf="!(audit$ | async).customerData.name">-</span>
        </div>
      </div>
      <div>
        <label class="label">Abteilung</label>
        <div class="audit-params" data-cy="audit-customer-department">
          {{ (audit$ | async).customerData.department }}
          <span class="label" *ngIf="!(audit$ | async).customerData.department">-</span>
        </div>
      </div>
    </div>
    <div class="grid-1-1">
      <div>
        <label class="label">Unternehmensbereich</label>
        <div class="audit-params" data-cy="audit-customer-division">
          {{ (audit$ | async).customerData.corporateDivision }}
          <span class="label" *ngIf="!(audit$ | async).customerData.corporateDivision">-</span>
        </div>
      </div>
      <div>
        <label class="label">Branche</label>
        <div class="audit-params" data-cy="audit-customer-sector">
          {{ (audit$ | async).customerData.sector }}
          <span class="label" *ngIf="!(audit$ | async).customerData.sector">-</span>
        </div>
      </div>
    </div>
    <hr />
    <div class="grid-1-1 mb-2">
      <div>
        <label class="label">Kontaktperson</label>
        <div class="audit-params" data-cy="audit-contact-person">
          {{ (audit$ | async).contactPerson.title }} {{ (audit$ | async).contactPerson.salutation }} {{ (audit$ | async).contactPerson.firstName }}
          {{ (audit$ | async).contactPerson.lastName }}
          <span
            class="label"
            *ngIf="!(audit$ | async).contactPerson.title && !(audit$ | async).contactPerson.salutation && !(audit$ | async).contactPerson.firstName && !(audit$ | async).contactPerson.lastName"
            >-</span
          >
        </div>
      </div>
    </div>
    <div class="grid-1-1 mb-2">
      <div>
        <label class="label">Kontaktinformationen</label>
        <div class="audit-params" data-cy="audit-contact-info">
          {{ (audit$ | async).contactPerson.information }}
          <span class="label" *ngIf="!(audit$ | async).contactPerson.information">-</span>
        </div>
      </div>
    </div>
  </nb-card-body>
</nb-card>

<nb-layout>
  <router-outlet></router-outlet>
</nb-layout>
