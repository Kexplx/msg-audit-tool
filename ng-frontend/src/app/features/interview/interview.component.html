<ng-container *ngIf="interview$ | async; let interview">
  <header class="header-main">
    <div class="header-main-info">
      <h4 data-cy="heading">
        Interview
        <span class="label">{{ interview.startDate | date: 'dd.MM.yyyy' }}</span>
      </h4>
      <span class="subtitle-2" *ngFor="let person of interview.contactPersons" data-cy="subheading">
        {{ person.forename + ' ' + person.surname + ',' }}
      </span>
    </div>
    <div>
      <button class="mr-1" hero [routerLink]="['/audits/' + interview.auditId + '/interviews']" nbButton>
        <nb-icon icon="arrow-back-outline"></nb-icon>
        Interviews
      </button>
      <button (click)="onFinishClick()" status="primary" hero nbButton>
        <nb-icon icon="checkmark-square-outline"></nb-icon>
        Abschlie√üen
      </button>
    </div>
  </header>
  <textarea class="mt-1" [value]="interview.note" (input)="onGoalInput($event.target.value)" placeholder="Ihre Notizen..." type="text" fullWidth nbInput data-cy="notes"></textarea>
</ng-container>
<nb-card class="mt-1 mb-1">
  <nb-card-body>
    <ng-container *ngIf="facCrit$ | async; let facCrit">
      <div class="nb-card-header-navigation">
        <nb-actions size="small">
          <nb-action icon="arrow-ios-back-outline" (click)="onNaviagteBack(facCrit.id)"></nb-action>
        </nb-actions>
        <p class="subtitle-2">
          {{ facCrit.name }}
          <span *ngIf="facCritIds" class="text-hint">{{ getFacCritPosition(facCrit.id) }}</span>
        </p>
        <nb-actions size="small">
          <nb-action icon="arrow-ios-forward-outline" (click)="onNavigateForward(facCrit.id)"></nb-action>
        </nb-actions>
      </div>
    </ng-container>
  </nb-card-body>
</nb-card>
<ng-container *ngIf="answers$ | async | answerByIds: interviewId:facCritId; let answers">
  <ng-container *ngIf="facCrit$ | async; let facCrit">
    <app-answer-question-list [facCrit]="facCrit" [answers]="answers"></app-answer-question-list>
  </ng-container>
</ng-container>
